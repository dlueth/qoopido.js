/*!
* Qoopido.js library v3.2.1, 2014-0-10
* https://github.com/dlueth/qoopido.js
* (c) 2014 Dirk Lueth
* Dual licensed under MIT and GPL
*/
!function(e,t){t.register?t.register("polyfill/object/defineproperty",e):(t.modules=t.modules||{})["polyfill/object/defineproperty"]=e()}(function(){"use strict";if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty,t=Object.prototype.__defineGetter__,r=Object.prototype.__defineSetter__;Object.defineProperty=function(n,o,i){if(e)try{return e(n,o,i)}catch(c){}if(n!==Object(n))throw new TypeError("Object.defineProperty called on non-object");return t&&"get"in i&&t.call(n,o,i.get),r&&"set"in i&&r.call(n,o,i.set),"value"in i&&(n[o]=i.value),n}}return!0},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var r=[];Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()||r.push("./defineproperty"),t.register("polyfill/object/defineproperties",e,r)}else(t.modules=t.modules||{})["polyfill/object/defineproperties"]=e()}(function(){"use strict";return Object.defineProperties||(Object.defineProperties=function(e,t){if(e!==Object(e))throw new TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),!0},window.qoopido=window.qoopido||{}),function(e,t){if(t.register){var r=[];Object.defineProperties||r.push("./defineproperties"),t.register("polyfill/object/create",e,r)}else(t.modules=t.modules||{})["polyfill/object/create"]=e()}(function(){"use strict";return Object.create||(Object.create=function(e,t){function r(){}if("object"!=typeof e)throw new TypeError;r.prototype=e;var n=new r;if(e&&(n.constructor=r),arguments.length>1){if(t!==Object(t))throw new TypeError;Object.defineProperties(n,t)}return n}),!0},window.qoopido=window.qoopido||{}),function(e,t){t.register?t.register("polyfill/object/getownpropertydescriptor",e):(t.modules=t.modules||{})["polyfill/object/getownpropertydescriptor"]=e()}(function(){"use strict";if(!Object.getOwnPropertyDescriptor||!function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()){var e=Object.getOwnPropertyDescriptor;Object.getOwnPropertyDescriptor=function(t,r){if(t!==Object(t))throw new TypeError;try{return e.call(Object,t,r)}catch(n){}return Object.prototype.hasOwnProperty.call(t,r)?{value:t[r],enumerable:!0,writable:!0,configurable:!0}:void 0}}return!0},window.qoopido=window.qoopido||{}),function(e,t,r,n,o,i){"use strict";function c(e){for(var t;(t=e.replace(d,""))!==e;)e=t;return e.replace(y,"")}var s,l,p=t.shared=t.shared||{},u=t.modules=t.modules||{},a=[],f=new RegExp("^\\.+\\/"),d=new RegExp("(?:\\/|)[^\\/]*\\/\\.\\."),y=new RegExp("(^\\/)|\\.\\/","g");s=t.register=function(e,t,s,l){var a,d=e.split("/");return u[e]?u[e]:(a=function(){if(s){var a,y,g,b=d.slice(0,-1).join("/");for(a=0;(y=s[a])!==i;a++)g=f.test(y),g&&(y=c(b+"/"+y)),!u[y]&&arguments[a]&&(u[y]=arguments[a]),g&&!u[y]&&"undefined"!=typeof console&&console.error("".concat("[Qoopido.js] ",e,": Could not load dependency ",y))}return u[e]=t(u,p,d,r,n,o,i),l&&l(u[e]),u[e]},"function"==typeof define&&define.amd?s?define(s,a):define(a):a(),void 0)},l=t.registerSingleton=function(e,t,r){s(e,t,r,function(t){u[e]=t.create()})},Object.create||a.push("./polyfill/object/create"),Object.getOwnPropertyNames||a.push("./polyfill/object/getownpropertynames"),Object.getOwnPropertyDescriptor&&function(){try{return Object.getOwnPropertyDescriptor({x:0},"x"),!0}catch(e){return!1}}()||a.push("./polyfill/object/getownpropertydescriptor"),s("base",e,a)}(function(e,t,r,n,o,i,c){"use strict";function s(e){var t,r,n={},o=Object.getOwnPropertyNames(e);for(t=0;(r=o[t])!==c;t++)n[r]=Object.getOwnPropertyDescriptor(e,r);return n}function l(){"undefined"!=typeof console&&console.error("[Qoopido.js] Operation prohibited on an actual instance")}return{create:function(){var e,t=Object.create(this,s(this));return t._constructor&&(e=t._constructor.apply(t,arguments)),t.create=t.extend=l,e||t},extend:function(e){return e=e||{},e._parent=this,Object.create(this,s(e))}}},window.qoopido=window.qoopido||{},navigator,window,document),function(e){window.qoopido.register("emitter",e,["./base"])}(function(e,t,r,n,o,i,c){"use strict";function s(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1);return e._mapped[t]=e[t],function(){var n,o=Array.prototype.slice.call(arguments);return e.emit.apply(e,["pre"+r,o]),n=e._mapped[t].apply(e,o),e.emit.apply(e,["post"+r,o,n]),n}}var l=/^(_|extend$|create$|on$|one$|off$|emit$|get.+)/;return e.base.extend({_mapped:null,_listener:{},_constructor:function(){var e,t=this;t._mapped={};for(e in t)"function"==typeof t[e]&&l.test(e)===!1&&(t[e]=s(t,e))},on:function(e,t){var r,n,o=this;for(e=e.split(" "),r=0;(n=e[r])!==c;r++)(o._listener[n]=o._listener[n]||[]).push(t);return o},one:function(e,t,r){r=r!==!1;var n=this;return n.on(e,function o(i){n.off(r===!0?i:e,o),t.apply(this,arguments)}),n},off:function(e,t){var r,n,o,i,s=this;if(e)for(e=e.split(" "),r=0;(n=e[r])!==c;r++)if(s._listener[n]=s._listener[n]||[],t)for(o=0;(i=s._listener[n][o])!==c;o++)i===t&&(s._listener[n].splice(o,1),o--);else s._listener[n].length=0;else for(n in s._listener)s._listener[n].length=0;return s},emit:function(e){var t,r,n=this;if(e!==c)for(n._listener[e]=n._listener[e]||[],t=0;(r=n._listener[e][t])!==c;t++)r.apply(n,arguments);return n}})}),function(e){window.qoopido.registerSingleton("component/remux",e,["../emitter"])}(function(e,t,r,n,o,i){"use strict";function c(){var e=this;return a.fontsize=parseInt(o.getComputedStyle(p).getPropertyValue("font-size"),10),a.layout=o.getComputedStyle(p,":after").getPropertyValue("content")||null,(a.fontsize!==f.fontsize||a.layout!==f.layout)&&(f.fontsize=a.fontsize,f.layout=a.layout,a.ratio.device=o.devicePixelRatio||1,a.ratio.fontsize=a.fontsize/u,a.ratio.total=a.ratio.device*a.ratio.fontsize,e.emit("statechange",a)),e}var s,l,p=i.getElementsByTagName("html")[0],u=16,a={fontsize:null,layout:null,ratio:{}},f={fontsize:null,layout:null},d=null;return s=e.emitter.extend({_constructor:function(){var e=this,t=parseInt(p.getAttribute("data-base"),10),r=function(){null!==d&&o.clearTimeout(d),d=o.setTimeout(function(){c.call(e)},20)};s._parent._constructor.call(e),isNaN(t)===!1&&(u=t),l=i.createElement("style"),l.type="text/css",i.getElementsByTagName("head")[0].appendChild(l),o.addEventListener("resize",r,!1),o.addEventListener("orientationchange",r,!1),c.call(e)},getState:function(){return a},addLayout:function(e,t){var r,n,o,s,p,a,f=this;arguments.length>1?(r={},r[e]=t):r=arguments[0];for(n in r)for(o=r[n],s=o.min;s<=o.max;s++)p=Math.round(o.width*(s/u)),a="@media screen and (min-width: "+p+"px) { html { font-size: "+s+'px; } html:after { content: "'+n+'"; display: none; } }',l.styleSheet?l.styleSheet.cssText+=a:l.appendChild(i.createTextNode(a));return c.call(f),f}})});